<div>
  <div ng-if="!cart || !cart.recipes || cart.recipes.length === 0" class="cart-empty">
    Aucune recette ajoutée pour le moment.
  </div>


  <!--<ion-list ng-init="items = [{ id: 0 },{ id: 1 }]">
<ion-item ng-repeat="item in items" item="item">
Item {{ item.id }}
<ion-option-button class="button-assertive" ng-click="edit(item)">Edit</ion-option-button>
<ion-option-button class="button-calm" ng-click="share(item)">Share</ion-option-button>
</ion-item>
</ion-list>-->


  <ion-list>
    <div class="item-cart-recipe" ng-repeat="recipe in cart.recipes">
      <ion-item ng-click="recipe.selected=!recipe.selected">
        <div>
          <div class="thumbnail pull-left">
            <img ng-src="{{recipe.data.images.thumbnail}}">
          </div>
          <div class="content">
            <!--<h2 class="pull-right">{{recipe.data.price.value*recipe.servings.value | number:2}} {{recipe.data.price.currency}}</h2>-->
            <h2>{{recipe.data.name}}</h2>
            <div>
              {{recipe.servings.value}} {{recipe.servings.unit}},
              {{recipe.data.time.eat}} {{recipe.data.time.unit}},
              {{recipe.data.ingredients.length}} ingrédients
            </div>
            <div>
              <div class="progress">
                <div class="progress-bar" ng-class="{'progress-bar-success': ingredientBoughtPc(recipe) === 100}" role="progressbar" aria-valuenow="{{ingredientBoughtPc(recipe)}}" aria-valuemin="0" aria-valuemax="100" style="width: {{ingredientBoughtPc(recipe)}}%;">
                  {{ingredientBoughtPc(recipe) | number:0}}%
                </div>
              </div>
            </div>
          </div>
        </div>
        <ion-option-button class="button-assertive" ng-click="removeRecipeFromCart(recipe)">Supprimer</ion-option-button>
      </ion-item>
      <div class="addon" ng-if="recipe.selected">
        <div class="range range-positive range-thin">
          <i class="fa fa-user"></i>
          <input type="range" name="servings" min="1" max="10" ng-model="recipe.servings.value">
          <i class="fa fa-users"></i>
        </div>
        <button class="button button-xs button-stable" ui-sref="app.recipe({recipeId: recipe.id})">Voir</button>
        <!--<button class="button button-xs button-positive">Cuisiner</button>-->
        <button class="button button-xs button-assertive" ng-click="removeRecipeFromCart(recipe)">Supprimer</button>
      </div>
    </div>
  </ion-list>


  <!--<div class="list">
<div class="item item-cart-recipe" ng-repeat="recipe in cart.recipes" ng-click="recipe.selected=!recipe.selected">
<div>
<div class="thumbnail pull-left">
<img ng-src="{{recipe.data.images.thumbnail}}">
</div>
<div class="content">
<h2>{{recipe.data.name}}</h2>
<p>
{{recipe.servings.value}} {{recipe.servings.unit}},
{{recipe.data.time.eat}} {{recipe.data.time.unit}},
{{recipe.data.ingredients.length}} ingrédients
</p>
</div>
</div>
<div ng-if="recipe.selected">
<div class="range range-thin"><input type="range" name="volume" min="1" max="10" ng-model="recipe.servings.value"></div>
</div>
</div>
</div>-->
</div>